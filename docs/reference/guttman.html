<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Alternative estimates of test reliabiity — splitHalf • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Alternative estimates of test reliabiity</h1>
    </div>

    
    <p>Eight alternative estimates of test reliability include the six discussed by Guttman (1945), four discussed by ten Berge and Zergers (1978) (\(\mu_0 \dots \mu_3)\) as well as \(\beta\) (the worst split half, Revelle, 1979),  the glb (greatest lowest bound) discussed by Bentler and Woodward (1980), and \(\omega_h\) and \(\omega_t\) (McDonald, 1999; Zinbarg et al., 2005). Greatest and lowest split-half values are found by brute force or sampling.</p>
    

    <pre class="usage"><span class='fu'>splitHalf</span>(<span class='no'>r</span>,<span class='kw'>raw</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>brute</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>n.sample</span><span class='kw'>=</span><span class='fl'>10000</span>,<span class='kw'>covar</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>check.keys</span><span class='kw'>=</span><span class='fl'>TRUE</span>,
           <span class='kw'>key</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>use</span><span class='kw'>=</span><span class='st'>"pairwise"</span>)
<span class='fu'>guttman</span>(<span class='no'>r</span>,<span class='kw'>key</span><span class='kw'>=</span><span class='kw'>NULL</span>)
<span class='fu'>tenberge</span>(<span class='no'>r</span>)
<span class='fu'>glb</span>(<span class='no'>r</span>,<span class='kw'>key</span><span class='kw'>=</span><span class='kw'>NULL</span>)
<span class='fu'>glb.fa</span>(<span class='no'>r</span>,<span class='kw'>key</span><span class='kw'>=</span><span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>r</th>
      <td><p>A correlation or covariance matrix or raw data matrix.</p></td>
    </tr>
    <tr>
      <th>raw</th>
      <td><p>return a vector of split half reliabilities</p></td>
    </tr>
    <tr>
      <th>brute</th>
      <td><p>Use brute force to try all combinations of n take n/2.</p></td>
    </tr>
    <tr>
      <th>n.sample</th>
      <td><p>if brute is false, how many samples of split halves should be tried?</p></td>
    </tr>
    <tr>
      <th>covar</th>
      <td><p>Should the covariances or correlations be used for reliability calculations</p></td>
    </tr>
    <tr>
      <th>check.keys</th>
      <td><p>If TRUE, any item with a negative loading on the first factor will be flipped in sign</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>a vector of -1, 0, 1 to select or reverse key items.  See if the key vector is less than the number of variables, then item numbers to be reverse can be specified.</p></td>
    </tr>
    <tr>
      <th>use</th>
      <td><p>Should we find the correlations using "pairwise" or "complete" (see ?cor)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Surprisingly, more than a century after Spearman (1904) introduced the concept of reliability to psychologists, there are still multiple approaches for measuring it. Although very popular, Cronbach's \(\alpha\)  (1951) underestimates the reliability of a test and over estimates the first factor saturation. Using <code>splitHalf</code> for tests with 16 or fewer items, all possible splits may be found fairly easily.  For tests with 17 or more items, n.sample splits are randomly found. Thus, for 16 or fewer items, the upper and lower bounds are precise.  For 17 or more items, they are close but will probably slightly underestimate the highest and overestimate the lowest reliabilities.</p>
<p>The guttman function includes the six estimates discussed by Guttman (1945), four of ten Berge and Zergers (1978), as well as Revelle's \(\beta\) (1979) using <code>splitHalf</code>. The companion function, <code><a href='omega.html'>omega</a></code> calculates omega hierarchical (\(\omega_h\))  and omega total (\(\omega_t\)).</p>
<p>Guttman's first estimate \(\lambda_1\) assumes that all the variance of an item is error:
$$
\lambda_1 = 1 - \frac{tr(\vec{V_x})}{V_x} = \frac{V_x - tr(\vec{V}_x)}{V_x}
$$
This is a clear underestimate.</p>
<p>The second bound, \(\lambda_2\), replaces the diagonal with a function of the square root of the  sums of squares of the off diagonal elements.  Let \(C_2 = \vec{1}( \vec{V}-diag(\vec{V})^2 \vec{1}' \), then 
$$
\lambda_2 = \lambda_1 + \frac{\sqrt{\frac{n}{n-1}C_2}}{V_x} = \frac{V_x - tr(\vec{V}_x) + \sqrt{\frac{n}{n-1}C_2} }{V_x}$$
Effectively, this is replacing the diagonal with  n * the square root of the average squared off diagonal element.</p>
<p>Guttman's 3rd lower bound, \(\lambda_3\), also  modifies \(\lambda_1\) and estimates the true variance of each item as the average covariance between items and is, of course, the same as Cronbach's \(\alpha\). 
$$
\lambda_3 = \lambda_1 + \frac{\frac{V_X - tr(\vec{V}_X)}{n (n-1)}}{V_X} = \frac{n \lambda_1}{n-1} = \frac{n}{n-1}\Bigl(1 - \frac{tr(\vec{V})_x}{V_x}\Bigr) = \frac{n}{n-1} \frac{V_x - tr(\vec{V}_x)}{V_x} = \alpha
$$</p>
<p>This is just replacing the diagonal elements with the average off diagonal elements.  \(\lambda_2 \geq \lambda_3\) with  \(\lambda_2 &gt; \lambda_3\) if the covariances are not identical.</p>
<p>\(\lambda_3\) and \(\lambda_2\) are both corrections to \(\lambda_1\) and this correction may  be  generalized  as an infinite set of successive improvements. (Ten Berge and Zegers, 1978) 
$$
\mu_r = \frac{1}{V_x} \bigl( p_o + (p_1 + (p_2 + \dots (p_{r-1} +( p_r)^{1/2})^{1/2} \dots )^{1/2})^{1/2}    \bigr), r = 0, 1, 2, \dots
$$
where 
$$
p_h = \sum_{i\ne j}\sigma_{ij}^{2h}, h = 0, 1, 2, \dots r-1
$$
and
$$
p_h = \frac{n}{n-1}\sigma_{ij}^{2h}, h = r 
$$
tenberge and Zegers (1978).  Clearly \(\mu_0 = \lambda_3 = \alpha\) and \( \mu_1 = \lambda_2\).  \(\mu_r \geq \mu_{r-1} \geq \dots \mu_1 \geq \mu_0\), although the series does not improve much after the first two steps.</p>
<p>Guttman's fourth lower bound, \(\lambda_4\) was originally proposed as any spit half reliability  but has been interpreted as the greatest split half reliability. If \(\vec{X}\) is split into  two parts, \(\vec{X}_a\) and \(\vec{X}_b\), with correlation \(r_{ab}\) then
$$
\lambda_4 = 2\Bigl(1 - \frac{V_{X_a} + V_{X_b}}{V_X} \Bigr) =  \frac{4 r_{ab}}{V_x} = \frac{4 r_{ab}}{V_{X_a} + V_{X_b}+ 2r_{ab}V_{X_a}  V_{X_b}}
$$
which is just the normal split half reliability, but in this case, of the most similar splits. For 16 or fewer items, this is found by trying all possible splits.  For 17 or more items, this is estimated by taking n.sample random splits.</p>
<p>\(\lambda_5\), Guttman's fifth lower bound, replaces the diagonal values with twice the square root of the maximum (across items) of the sums of squared interitem covariances
$$
\lambda_5 =  \lambda_1 + \frac{2 \sqrt{\bar{C_2}}}{V_X}.
$$
Although superior to \(\lambda_1\), \(\lambda_5\) underestimates the correction to the diagonal.  A better estimate would be analogous to the correction used in \(\lambda_3\):
$$
\lambda_{5+} =  \lambda_1 + \frac{n}{n-1}\frac{2 \sqrt{\bar{C_2}}}{V_X}.
$$
    \(\lambda_6\),Guttman's final bound considers the amount of variance in each item that can be accounted for the linear regression of all of the other items (the squared multiple correlation or smc), or more precisely, the variance of the errors, \(e_j^2\),  and is
$$\lambda_6 = 1 - \frac{\sum e_j^2}{V_x} = 1 - \frac{\sum(1-r_{smc}^2)}{V_x}
$$.</p>
<p>The smc is found from all the items.  A modification to Guttman \(\lambda_6\), \(\lambda_6*\) reported by the <code><a href='score.items.html'>score.items</a></code> function is to find the smc from the entire pool of items given, not just the items on the selected scale.</p>
    <p>Guttman's \(\lambda_4\) is the greatest split half reliability.  Although originally found here by combining the output from three different approaches,this has now been replaced by using <code>splitHalf</code> to find the maximum value by brute force (for 16 or fewer items) or by taking a substantial number of random splits.</p>
<p>The algorithms that had been tried before included:</p>
<p>a) Do an ICLUST of the reversed correlation matrix.  ICLUST normally forms the most distinct clusters.  By reversing the correlations, it will tend to find the most related clusters.  Truly a weird approach but tends to work.</p>
<p>b) Alternatively, a kmeans clustering of the correlations (with the diagonal replaced with 0 to make pseudo distances) can produce 2 similar clusters.</p>
<p>c) Clusters identified by assigning items to two clusters based upon their order on the first principal factor.  (Highest to cluster 1, next 2 to cluster 2, etc.)</p>
<p>These three procedures will produce keys vectors for assigning items to the two splits.  The maximum split half reliability is found by taking the maximum of these three approaches.  This is not elegant but is fast.</p>
<p>The brute force and the sampling procedures seem to provide more stable and larger estimates.</p>
<p>Yet another procedure, implemented in <code>splitHalf</code> is actually form all possible (for n items &lt;= 16) or sample 10,000 (or more) split halfs corrected for test length.  This function returns the best and worst splits as item keys that can be used for scoring purposes, if desired.</p>
<p>There are three greatest lower bound functions.  One, glb finds the greatest split half reliability, \(\lambda_4\). This considers the test as set of items and examines how best to partition the items into splits. The other two, <code>glb.fa</code> and <code><a href='glb.algebraic.html'>glb.algebraic</a></code>, are alternative ways of weighting the diagonal of the matrix.
    <code>glb.fa</code> estimates the communalities of the variables from a factor model where the number of factors is the number with positive eigen values.  Then reliability is found by 
$$
glb = 1 - \frac{\sum e_j^2}{V_x} = 1 - \frac{\sum(1- h^2)}{V_x}
$$</p>
<p>This estimate will differ slightly from that found by  <code><a href='glb.algebraic.html'>glb.algebraic</a></code>, written by Andreas Moeltner which uses calls to  csdp in the Rcsdp package. His algorithm, which more closely matches the description of the glb by Jackson and Woodhouse, seems to have a positive bias (i.e., will over estimate the reliability of some items; they are said to be = 1) for small sample sizes.  More exploration of these two algorithms is underway.</p>
<p>Compared to <code><a href='glb.algebraic.html'>glb.algebraic</a></code>, <code>glb.fa</code> seems to have less (positive) bias for smallish sample sizes (n &lt; 500) but larger for large (&gt; 1000) sample sizes. This interacts with the number of variables so that equal bias sample size differs as a function of the number of variables.  The differences are, however small. As samples sizes grow,  <code><a href='glb.algebraic.html'>glb.algebraic</a></code> seems to converge on the population value while glb.fa has a positive bias.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<dt>beta</dt><dd><p>The worst split half reliability. This is an estimate of the general factor saturation.</p></dd>
<dt>tenberge$mu1</dt><dd><p>tenBerge mu 1 is functionally alpha</p></dd>
 <dt>tenberge$mu2</dt><dd><p>one of the sequence of estimates mu1 ... mu3</p></dd>
<dt>glb</dt><dd><p>glb found from factor analysis</p></dd>
<dt>keys</dt><dd><p>scoring keys from each of the alternative methods of forming best splits</p></dd>

    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Cronbach, L.J. (1951) Coefficient alpha and the internal strucuture of tests.  Psychometrika, 16, 297-334.</p>
<p>Guttman, L. (1945). A basis for analyzing test-retest reliability. Psychometrika, 10 (4), 255-282.</p>
<p>Revelle, W. (1979). Hierarchical cluster-analysis and the internal structure of tests. Multivariate Behavioral Research, 14 (1), 57-74.</p>
<p>Revelle, W. and Zinbarg, R. E. (2009) Coefficients alpha, beta, omega and the glb: comments on Sijtsma. Psychometrika, 2009.</p>
<p>Ten Berge, J. M. F., &amp; Zegers, F. E. (1978). A series of lower bounds to the reliability of a test. Psychometrika, 43 (4), 575-579.</p>
<p>Zinbarg, R. E., Revelle, W., Yovel, I., &amp; Li, W. (2005). Cronbach's \(\alpha\) , Revelle's \(\beta\) , and McDonald's \(\omega_h\) ): Their relations with each other and two alternative conceptualizations of reliability. Psychometrika, 70 (1), 123-133.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='alpha.html'>alpha</a></code>, <code><a href='omega.html'>omega</a></code>, <code><a href='ICLUST.html'>ICLUST</a></code>, <code><a href='glb.algebraic.html'>glb.algebraic</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>attitude</span>)
<span class='fu'>splitHalf</span>(<span class='no'>attitude</span>)</div><div class='output co'>#&gt; Split half reliabilities  
#&gt; Call: splitHalf(r = attitude)
#&gt; 
#&gt; Maximum split half reliability (lambda 4) =  0.89
#&gt; Guttman lambda 6                          =  0.88
#&gt; Average split half reliability            =  0.81
#&gt; Guttman lambda 3 (alpha)                  =  0.84
#&gt; Minimum split half reliability  (beta)    =  0.74</div><div class='input'><span class='fu'>splitHalf</span>(<span class='no'>attitude</span>,<span class='kw'>covar</span><span class='kw'>=</span><span class='fl'>TRUE</span>) <span class='co'>#do it on the covariances</span></div><div class='output co'>#&gt; Split half reliabilities  
#&gt; Call: splitHalf(r = attitude, covar = TRUE)
#&gt; 
#&gt; Maximum split half reliability (lambda 4) =  0.91
#&gt; Guttman lambda 6                          =  0.72
#&gt; Average split half reliability            =  0.82
#&gt; Guttman lambda 3 (alpha)                  =  0.84
#&gt; Minimum split half reliability  (beta)    =  0.76</div><div class='input'><span class='fu'>glb</span>(<span class='no'>attitude</span>)</div><div class='output co'>#&gt; $beta
#&gt; [1] 0.7023614
#&gt; 
#&gt; $beta.factor
#&gt; [1] 0.6005961
#&gt; 
#&gt; $alpha.pc
#&gt; [1] 0.7309206
#&gt; 
#&gt; $glb.max
#&gt; [1] 0.9108864
#&gt; 
#&gt; $glb.IC
#&gt; [1] 0.9108864
#&gt; 
#&gt; $glb.Km
#&gt; [1] 0.9108864
#&gt; 
#&gt; $glb.Fa
#&gt; [1] 0.9011208
#&gt; 
#&gt; $r.smc
#&gt; [1] 0.8752151
#&gt; 
#&gt; $tenberge
#&gt; $tenberge$mu0
#&gt; [1] 0.8390838
#&gt; 
#&gt; $tenberge$mu1
#&gt; [1] 0.8518997
#&gt; 
#&gt; $tenberge$mu2
#&gt; [1] 0.8544578
#&gt; 
#&gt; $tenberge$mu3
#&gt; [1] 0.8549927
#&gt; 
#&gt; 
#&gt; $keys
#&gt;            IC1 IC2 ICr1 ICr2 K1 K2 F1 F2 f1 f2
#&gt; rating       1   0    1    0  0  1  0  1  1  0
#&gt; complaints   1   0    0    1  1  0  0  1  1  0
#&gt; privileges   1   0    1    0  0  1  1  0  1  0
#&gt; learning     1   0    1    0  0  1  1  0  1  0
#&gt; raises       0   1    1    0  0  1  1  0  1  0
#&gt; critical     0   1    1    0  0  1  1  0  0  1
#&gt; advance      0   1    0    1  1  0  0  1  0  1
#&gt; </div><div class='input'><span class='fu'>glb.fa</span>(<span class='no'>attitude</span>)</div><div class='output co'>#&gt; $glb
#&gt; [1] 0.9062287
#&gt; 
#&gt; $communality
#&gt;     rating complaints privileges   learning     raises   critical    advance 
#&gt;  0.7733609  0.8981735  0.3500094  0.7634485  0.7666944  0.3268903  0.7836959 
#&gt; 
#&gt; $numf
#&gt; [1] 3
#&gt; 
#&gt; $Call
#&gt; glb.fa(r = attitude)
#&gt; </div><div class='input'><span class='kw'>if</span>(<span class='fu'>require</span>(<span class='no'>Rcsdp</span>)) {<span class='fu'><a href='glb.algebraic.html'>glb.algebraic</a></span>(<span class='fu'>cor</span>(<span class='no'>attitude</span>)) }</div><div class='output co'>#&gt; <span class='message'>Loading required package: Rcsdp</span></div><div class='output co'>#&gt; <span class='warning'>Warning: there is no package called ‘Rcsdp’</span></div><div class='input'><span class='fu'>guttman</span>(<span class='no'>attitude</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: Guttman has been deprecated.  The use of the splitHalf function is recommended</span></div><div class='output co'>#&gt; Call: guttman(r = attitude)
#&gt; 
#&gt; Alternative estimates of reliability
#&gt; 
#&gt; Guttman bounds 
#&gt; L1 =  0.72 
#&gt; L2 =  0.85 
#&gt; L3 (alpha) =  0.84 
#&gt; L4 (max) =  0.89 
#&gt; L5 =  0.83 
#&gt; L6 (smc) =  0.88 
#&gt; TenBerge bounds 
#&gt; mu0 =  0.84 mu1 =  0.85 mu2 =  0.85 mu3 =  0.85 
#&gt; 
#&gt; alpha of first PC =  0.85 
#&gt; estimated greatest lower bound based upon communalities=  0.91 
#&gt; 
#&gt; beta found by splitHalf  =  0.74 </div><div class='input'>
<span class='co'>#to show the histogram of all possible splits for the ability test</span>
<span class='co'>#sp &lt;- splitHalf(ability,raw=TRUE)  #this saves the results</span>
<span class='co'>#hist(sp$raw,breaks=101,ylab="SplitHalf reliability",main="SplitHalf </span>
<span class='co'>#    reliabilities of a test with 16 ability items")</span>
<span class='no'>sp</span> <span class='kw'>&lt;-</span> <span class='fu'>splitHalf</span>(<span class='no'>bfi</span>[<span class='fl'>1</span>:<span class='fl'>10</span>],<span class='kw'>key</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>9</span>,<span class='fl'>10</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
     William Revelle 
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
