<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot data and 1 and 2 sigma correlation ellipses — ellipses • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot data and 1 and 2 sigma correlation ellipses</h1>
    </div>

    
    <p>For teaching correlation, it is useful to draw ellipses around the mean to reflect the correlation.  This variation of the ellipse function from John Fox's car package does so.  Input may be either two vectors or a matrix or data.frame.  In the latter cases, if the number of variables &gt;2, then the ellipses are done in the <code><a href='pairs.panels.html'>pairs.panels</a></code> function. Ellipses may be added to existing plots. 
The minkowski function is included as a generalized ellipse.</p>
    

    <pre class="usage"><span class='fu'>ellipses</span>(<span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>smooth</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>lm</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>data</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>,
 <span class='kw'>span</span><span class='kw'>=</span><span class='fl'>2</span>/<span class='fl'>3</span>, <span class='kw'>iter</span><span class='kw'>=</span><span class='fl'>3</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>"red"</span>, <span class='kw'>xlab</span> <span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>ylab</span><span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)
<span class='fu'>minkowski</span>(<span class='kw'>r</span><span class='kw'>=</span><span class='fl'>2</span>,<span class='kw'>add</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>xl</span><span class='kw'>=</span><span class='fl'>1</span>,<span class='kw'>yl</span><span class='kw'>=</span><span class='fl'>1</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a vector,matrix, or data.frame</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>Optional second vector</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>Should a new plot be created, or should it be added to?</p></td>
    </tr>
    <tr>
      <th>smooth</th>
      <td><p>smooth = TRUE -&gt; draw a loess fit</p></td>
    </tr>
    <tr>
      <th>lm</th>
      <td><p>lm=TRUE -&gt; draw the linear fit</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>data=TRUE implies draw the data points</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Should 1 or 2 ellipses be drawn</p></td>
    </tr>
    <tr>
      <th>span</th>
      <td><p>averaging window parameter for the lowess fit</p></td>
    </tr>
    <tr>
      <th>iter</th>
      <td><p>iteration parameter for lowess</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>color of ellipses (default is red</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>label for the x axis</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>label for the y axis</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Other parameters for plotting</p></td>
    </tr>
    <tr>
      <th>r</th>
      <td><p>r=1 draws a city block, r=2 is a Euclidean circle, r &gt; 2 tends towards a square</p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>title to use when drawing Minkowski circles</p></td>
    </tr>
    <tr>
      <th>xl</th>
      <td><p>stretch the x axis</p></td>
    </tr>
    <tr>
      <th>yl</th>
      <td><p>stretch the y axis</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Ellipse dimensions are calculated from the correlation between the x and y variables and are scaled as sqrt(1+r) and sqrt(1-r).</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A single plot (for 2 vectors or data frames with fewer than 3 variables.  Otherwise a call is made to <code><a href='pairs.panels.html'>pairs.panels</a></code>.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Galton, Francis (1888), Co-relations and their measurement. Proceedings of the Royal Society. London Series, 45, 135-145.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Adapted from John Fox's ellipse and data.ellipse functions.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='pairs.panels.html'>pairs.panels</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>galton</span>)
<span class='fu'>ellipses</span>(<span class='no'>galton</span>,<span class='kw'>lm</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><img src='ellipses-2.png' alt='' width='540' height='400' /><div class='input'><span class='fu'>ellipses</span>(<span class='no'>galton</span>$<span class='no'>parent</span>,<span class='no'>galton</span>$<span class='no'>child</span>,<span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"Mid Parent Height"</span>,
                  <span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"Child Height"</span>) <span class='co'>#input are two vectors</span></div><img src='ellipses-4.png' alt='' width='540' height='400' /><div class='input'><span class='fu'>data</span>(<span class='no'>sat.act</span>)
<span class='fu'>ellipses</span>(<span class='no'>sat.act</span>)  <span class='co'>#shows the pairs.panels ellipses</span></div><img src='ellipses-6.png' alt='' width='540' height='400' /><div class='input'><span class='fu'>minkowski</span>(<span class='fl'>2</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Minkowski circles"</span>)</div><div class='input'><span class='fu'>minkowski</span>(<span class='fl'>1</span>,<span class='fl'>TRUE</span>)</div><div class='input'><span class='fu'>minkowski</span>(<span class='fl'>4</span>,<span class='fl'>TRUE</span>)</div><img src='ellipses-10.png' alt='' width='540' height='400' /><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    William Revelle 
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
