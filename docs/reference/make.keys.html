<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a keys matrix for use by score.items or cluster.cor — make.keys • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a keys matrix for use by score.items or cluster.cor</h1>
    </div>

    
    <p>When scoring items by forming composite scales either from the raw data using <code><a href='score.items.html'>score.items</a></code> or from the correlation matrix using <code><a href='cluster.cor.html'>cluster.cor</a></code>, it is necessary to create a keys matrix.  This is just a short cut for doing so.  The keys matrix is a nvar x nscales matrix of -1,0, 1 and defines the membership for each scale. Items can be specified by location or by name.</p>
    

    <pre class="usage"><span class='fu'>make.keys</span>(<span class='no'>nvars</span>, <span class='no'>keys.list</span>, <span class='kw'>item.labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>key.labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)
<span class='fu'>keys2list</span>(<span class='no'>keys</span>,<span class='kw'>sign</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>nvars</th>
      <td><p>Number of variables items to be scored</p></td>
    </tr>
    <tr>
      <th>keys.list</th>
      <td><p>A list of the scoring keys,one element for each scale</p></td>
    </tr>
    <tr>
      <th>item.labels</th>
      <td><p>Typically, just the colnames of the items data matrix.</p></td>
    </tr>
    <tr>
      <th>key.labels</th>
      <td><p>Labels for the scales can be specified here, or in the key.list</p></td>
    </tr>
    <tr>
      <th>keys</th>
      <td><p>A keys matrix returned from make.keys</p></td>
    </tr>
    <tr>
      <th>sign</th>
      <td><p>if TRUE, prefix negatively keyed items with - (e.g., ``-E2")</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There are three ways to create keys for the <code><a href='score.items.html'>scoreItems</a></code>, <code><a href='cluster.cor.html'>scoreOverlap</a></code>, <code><a href='score.irt.html'>scoreIrt.1pl</a></code>, or <code><a href='score.irt.html'>scoreIrt.2pl</a></code> functions. One is to laboriously do it in a spreadsheet and then copy them into R.  The other is to just specify them by item number in a list.<code>make.keys</code> allows one to specify items by name or by location or a mixture of both.</p>
<p>Since these scoring functions <code><a href='score.items.html'>scoreItems</a></code>, <code><a href='cluster.cor.html'>scoreOverlap</a></code>, <code><a href='score.irt.html'>scoreIrt.1pl</a></code>, or <code><a href='score.irt.html'>scoreIrt.2pl</a></code> can now (version 1.6.9)  just take a keys.list as input, make.keys is not as important, but is kept for documentation purposes.</p>
<p>To address items by name it is necessary to specify item names, either by using the item.labels value, or by putting the name of the data file or the colnames of the data file to be scored into the first (nvars) position.</p>
<p>If specifying by number (location), then nvars is the total number of items in the object to be scored, not just the number of items used.</p>
<p>See the examples for the various options.</p>
<p>Note that make.keys was revised in Sept, 2013 to allow for keying by name.</p>
<p>It is also possible to do several make.keys operations and then combine them using <code><a href='super.matrix.html'>superMatrix</a></code>.
    <code>keys2list</code> reverses the <code>make.keys</code> process and returns a list of scoring keys with the item names for each  item to be keyed.  If sign=FALSE, this is just a list of the items to be scored. (Useful for <code><a href='score.irt.html'>scoreIrt.2pl</a></code></p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p></p>
<dt>keys </dt><dd><p>a nvars x nkeys matrix of -1, 0, or 1s describing how to score each scale. nkeys is the length of the keys.list</p></dd>
 
  

    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='score.items.html'>scoreItems</a></code>, <code><a href='cluster.cor.html'>scoreOverlap</a></code>, <code><a href='cluster.cor.html'>cluster.cor</a></code> <code><a href='super.matrix.html'>superMatrix</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>attitude</span>)  <span class='co'>#specify the items by location</span>
 <span class='no'>key.list</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='kw'>all</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>4</span>,-<span class='fl'>5</span>,<span class='fl'>6</span>,<span class='fl'>7</span>),
                  <span class='kw'>first</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>),
                  <span class='kw'>last</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>4</span>,<span class='fl'>5</span>,<span class='fl'>6</span>,<span class='fl'>7</span>))
 <span class='no'>keys</span> <span class='kw'>&lt;-</span> <span class='fu'>make.keys</span>(<span class='fl'>7</span>,<span class='no'>key.list</span>,<span class='kw'>item.labels</span> <span class='kw'>=</span> <span class='fu'>colnames</span>(<span class='no'>attitude</span>))
 <span class='no'>keys</span></div><div class='output co'>#&gt;            all first last
#&gt; rating       1     1    0
#&gt; complaints   1     1    0
#&gt; privileges   1     1    0
#&gt; learning     1     0    1
#&gt; raises      -1     0    1
#&gt; critical     1     0    1
#&gt; advance      1     0    1</div><div class='input'> <span class='co'>#now, undo this </span>
<span class='no'>new.keys.list</span> <span class='kw'>&lt;-</span> <span class='fu'>keys2list</span>(<span class='no'>keys</span>)  <span class='co'>#note, these are now given the variable names</span>


 <span class='co'>#scores &lt;- score.items(keys,attitude)</span>
 <span class='co'>#scores</span>

 <span class='fu'>data</span>(<span class='no'>bfi</span>)
 <span class='co'>#first create the keys by location (the conventional way)</span>
 <span class='no'>keys.list</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='kw'>agree</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>1</span>,<span class='fl'>2</span>:<span class='fl'>5</span>),<span class='kw'>conscientious</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>6</span>:<span class='fl'>8</span>,-<span class='fl'>9</span>,-<span class='fl'>10</span>),
 <span class='kw'>extraversion</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>11</span>,-<span class='fl'>12</span>,<span class='fl'>13</span>:<span class='fl'>15</span>),<span class='kw'>neuroticism</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>16</span>:<span class='fl'>20</span>),<span class='kw'>openness</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>21</span>,-<span class='fl'>22</span>,<span class='fl'>23</span>,<span class='fl'>24</span>,-<span class='fl'>25</span>))
 <span class='no'>keys</span> <span class='kw'>&lt;-</span> <span class='fu'>make.keys</span>(<span class='fl'>25</span>,<span class='no'>keys.list</span>,<span class='kw'>item.labels</span><span class='kw'>=</span><span class='fu'>colnames</span>(<span class='no'>bfi</span>)[<span class='fl'>1</span>:<span class='fl'>25</span>])
 <span class='no'>new.keys.list</span> <span class='kw'>&lt;-</span> <span class='fu'>keys2list</span>(<span class='no'>keys</span>)  <span class='co'>#these will be in the form of variable names</span>

 <span class='co'>#alternatively, create by a mixture of names and locations </span>
 <span class='no'>keys.list</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='kw'>agree</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"-A1"</span>,<span class='st'>"A2"</span>,<span class='st'>"A3"</span>,<span class='st'>"A4"</span>,<span class='st'>"A5"</span>),
<span class='kw'>conscientious</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"C1"</span>,<span class='st'>"C2"</span>,<span class='st'>"C2"</span>,<span class='st'>"-C4"</span>,<span class='st'>"-C5"</span>),<span class='kw'>extraversion</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"-E1"</span>,<span class='st'>"-E2"</span>,<span class='st'>"E3"</span>,<span class='st'>"E4"</span>,<span class='st'>"E5"</span>),
<span class='kw'>neuroticism</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>16</span>:<span class='fl'>20</span>),<span class='kw'>openness</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>21</span>,-<span class='fl'>22</span>,<span class='fl'>23</span>,<span class='fl'>24</span>,-<span class='fl'>25</span>))
<span class='no'>keys</span> <span class='kw'>&lt;-</span> <span class='fu'>make.keys</span>(<span class='no'>bfi</span>,<span class='no'>keys.list</span>) <span class='co'>#specify the data file to be scored (bfi)</span>
<span class='co'>#or</span>
<span class='no'>keys</span> <span class='kw'>&lt;-</span> <span class='fu'>make.keys</span>(<span class='fu'>colnames</span>(<span class='no'>bfi</span>),<span class='no'>keys.list</span>) <span class='co'>#specify the names of the variables to be used</span>
<span class='co'>#or</span>
<span class='co'>#specify the number of variables to be scored and their names in all cases</span>
<span class='no'>keys</span> <span class='kw'>&lt;-</span> <span class='fu'>make.keys</span>(<span class='fl'>28</span>,<span class='no'>keys.list</span>,<span class='fu'>colnames</span>(<span class='no'>bfi</span>))


 <span class='no'>scores</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='score.items.html'>scoreItems</a></span>(<span class='no'>keys</span>,<span class='no'>bfi</span>)
 <span class='fu'>summary</span>(<span class='no'>scores</span>)</div><div class='output co'>#&gt; Call: scoreItems(keys = keys, items = bfi)
#&gt; 
#&gt; Scale intercorrelations corrected for attenuation 
#&gt;  raw correlations below the diagonal, (unstandardized) alpha on the diagonal 
#&gt;  corrected correlations above the diagonal:
#&gt;               agree conscientious extraversion neuroticism openness
#&gt; agree          0.70          0.36         0.63      -0.245     0.23
#&gt; conscientious  0.25          0.69         0.37      -0.334     0.33
#&gt; extraversion   0.46          0.27         0.76      -0.284     0.32
#&gt; neuroticism   -0.18         -0.25        -0.22       0.812    -0.12
#&gt; openness       0.15          0.21         0.22      -0.086     0.60</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
