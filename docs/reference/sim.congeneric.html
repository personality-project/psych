<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate a congeneric data set — sim.congeneric • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate a congeneric data set</h1>
    </div>

    
    <p>Classical Test Theory (CTT) considers four or more tests to be congenerically equivalent if all tests may be expressed in terms of one factor and a residual error.  Parallel tests are the special case where (usually two) tests have equal factor loadings.  Tau equivalent tests have equal factor loadings but may have unequal errors.  Congeneric tests may differ in both factor loading and error variances.</p>
    

    <pre class="usage"><span class='fu'>sim.congeneric</span>(<span class='kw'>loads</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0.8</span>, <span class='fl'>0.7</span>, <span class='fl'>0.6</span>, <span class='fl'>0.5</span>),<span class='kw'>N</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,  <span class='kw'>err</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>short</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
              <span class='kw'>categorical</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>low</span><span class='kw'>=</span>-<span class='fl'>3</span>,<span class='kw'>high</span><span class='kw'>=</span><span class='fl'>3</span>,<span class='kw'>cuts</span><span class='kw'>=</span><span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>N</th>
      <td><p>How many subjects to simulate. If NULL, return the population model</p></td>
    </tr>
    <tr>
      <th>loads</th>
      <td><p>A vector of factor loadings for the tests</p></td>
    </tr>
    <tr>
      <th>err</th>
      <td><p>A vector of error variances -- if NULL then error = 1 - loading 2</p></td>
    </tr>
    <tr>
      <th>short</th>
      <td><p>short=TRUE: Just give the test correlations, short=FALSE, report observed test scores as well as the implied pattern matrix</p></td>
    </tr>
    <tr>
      <th>categorical</th>
      <td><p>continuous or categorical (discrete) variables.</p></td>
    </tr>
    <tr>
      <th>low</th>
      <td><p>values less than low are forced to low</p></td>
    </tr>
    <tr>
      <th>high</th>
      <td><p>values greater than high are forced to high</p></td>
    </tr>
    <tr>
      <th>cuts</th>
      <td><p>If specified, and categorical = TRUE, will cut the resulting continuous output at the value of cuts</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When constructing examples for reliability analysis, it is convenient to simulate congeneric data structures.  These are the most simple of item structures, having just one factor. Mainly used for a discussion of reliability theory as well as factor score estimates.</p>
<p>The implied covariance matrix is just pattern %*% t(pattern).</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p></p>
<dt>model</dt><dd><p>The implied population correlation matrix if N=NULL or short=FALSE, otherwise the sample correlation matrix</p></dd>
  <dt>pattern </dt><dd><p>The pattern matrix implied by the loadings and error variances</p></dd>
  <dt>r</dt><dd><p>The sample correlation matrix for long output</p></dd>
  <dt>observed</dt><dd><p>a matrix of test scores for n tests</p></dd>
  <dt>latent</dt><dd><p>The latent trait and error scores</p></dd>



    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Revelle, W. (in prep) An introduction to psychometric theory with applications in R. To be published by Springer.  (working draft available at  <a href = 'http://personality-project.org/r/book/'>http://personality-project.org/r/book/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='sim.item.html'>item.sim</a></code> for other simulations, <code><a href='fa.html'>fa</a></code> for an example of factor scores, <code><a href='irt.fa.html'>irt.fa</a></code> and <code><a href='tetrachor.html'>polychoric</a></code> for the treatment of item data with discrete values.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>test</span> <span class='kw'>&lt;-</span> <span class='fu'>sim.congeneric</span>(<span class='fu'>c</span>(<span class='fl'>.9</span>,<span class='fl'>.8</span>,<span class='fl'>.7</span>,<span class='fl'>.6</span>))   <span class='co'>#just the population matrix</span>
<span class='no'>test</span> <span class='kw'>&lt;-</span> <span class='fu'>sim.congeneric</span>(<span class='fu'>c</span>(<span class='fl'>.9</span>,<span class='fl'>.8</span>,<span class='fl'>.7</span>,<span class='fl'>.6</span>),<span class='kw'>N</span><span class='kw'>=</span><span class='fl'>100</span>)   <span class='co'># a sample correlation matrix</span>
<span class='no'>test</span> <span class='kw'>&lt;-</span> <span class='fu'>sim.congeneric</span>(<span class='kw'>short</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>N</span><span class='kw'>=</span><span class='fl'>100</span>)
<span class='fu'>round</span>(<span class='fu'>cor</span>(<span class='no'>test</span>$<span class='no'>observed</span>),<span class='fl'>2</span>) <span class='co'># show  a congeneric correlation matrix</span></div><div class='output co'>#&gt;      V1   V2   V3   V4
#&gt; V1 1.00 0.50 0.36 0.37
#&gt; V2 0.50 1.00 0.38 0.15
#&gt; V3 0.36 0.38 1.00 0.23
#&gt; V4 0.37 0.15 0.23 1.00</div><div class='input'><span class='no'>f1</span><span class='kw'>=</span><span class='fu'><a href='fa.html'>fa</a></span>(<span class='no'>test</span>$<span class='no'>observed</span>,<span class='kw'>scores</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='fu'>round</span>(<span class='fu'>cor</span>(<span class='no'>f1</span>$<span class='no'>scores</span>,<span class='no'>test</span>$<span class='no'>latent</span>),<span class='fl'>2</span>)</div><div class='output co'>#&gt;     theta   e1   e2   e3  e4
#&gt; MR1  0.83 0.41 0.32 0.15 0.1</div><div class='input'>     <span class='co'>#factor score estimates are correlated with but not equal to the factor scores</span>
<span class='fu'>set.seed</span>(<span class='fl'>42</span>)
<span class='co'>#500 responses to 4 discrete items</span>
<span class='no'>items</span> <span class='kw'>&lt;-</span> <span class='fu'>sim.congeneric</span>(<span class='kw'>N</span><span class='kw'>=</span><span class='fl'>500</span>,<span class='kw'>short</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>low</span><span class='kw'>=</span>-<span class='fl'>2</span>,<span class='kw'>high</span><span class='kw'>=</span><span class='fl'>2</span>,<span class='kw'>categorical</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>d4</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='irt.fa.html'>irt.fa</a></span>(<span class='no'>items</span>$<span class='no'>observed</span>)  <span class='co'>#item response analysis of congeneric measures</span></div><div class='output co'>#&gt; <span class='message'>6 cells were adjusted for 0 values using the correction for continuity. Examine your data carefully.</span></div><img src='sim.congeneric-7.png' alt='' width='540' height='400' /><div class='input'>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
     William Revelle 
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
