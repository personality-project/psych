<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Find the partial correlations for a set (x) of variables with set (y) removed. — partial.r • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Find the partial correlations for a set (x) of variables with set (y) removed.</h1>
    </div>

    
    <p>A straightforward application of matrix algebra to remove the effect of the variables in the y set from the x set. Input may be either a data matrix or a correlation matrix.  Variables in x and y are specified by location.</p>
    

    <pre class="usage"><span class='fu'>partial.r</span>(<span class='no'>m</span>, <span class='no'>x</span>, <span class='no'>y</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>m</th>
      <td><p>A data or correlation matrix</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>The variable numbers associated with the X set.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>The variable numbers associated with the Y set</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>It is sometimes convenient to partial the effect of a number of variables (e.g., sex, age, education) out of the correlations of another set of variables.  This could be done laboriously by finding the residuals of various multiple correlations, and then correlating these residuals.  The matrix algebra alternative is to do it directly. 
To find the confidence intervals and "significance" of the correlations, use the <code><a href='corr.test.html'>corr.p</a></code> function with n = n - s where s is the numer of covariates.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The matrix of partial correlations.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Revelle, W. (in prep) An introduction to psychometric theory with applications in R. To be published by Springer.  (working draft available at  <a href = 'http://personality-project.org/r/book/'>http://personality-project.org/r/book/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='set.cor.html'>mat.regress</a></code> for a similar application for regression</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>jen</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sim.hierarchical.html'>make.hierarchical</a></span>()    <span class='co'>#make up a correlation matrix </span>
<span class='fu'>round</span>(<span class='no'>jen</span>[<span class='fl'>1</span>:<span class='fl'>5</span>,<span class='fl'>1</span>:<span class='fl'>5</span>],<span class='fl'>2</span>)</div><div class='output co'>#&gt;      V1   V2   V3   V4   V5
#&gt; V1 1.00 0.56 0.48 0.40 0.35
#&gt; V2 0.56 1.00 0.42 0.35 0.30
#&gt; V3 0.48 0.42 1.00 0.30 0.26
#&gt; V4 0.40 0.35 0.30 1.00 0.42
#&gt; V5 0.35 0.30 0.26 0.42 1.00</div><div class='input'><span class='no'>par.r</span> <span class='kw'>&lt;-</span> <span class='fu'>partial.r</span>(<span class='no'>jen</span>,<span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>3</span>,<span class='fl'>5</span>),<span class='fu'>c</span>(<span class='fl'>2</span>,<span class='fl'>4</span>))
<span class='no'>cp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='corr.test.html'>corr.p</a></span>(<span class='no'>par.r</span>,<span class='kw'>n</span><span class='kw'>=</span><span class='fl'>98</span>)  <span class='co'>#assumes the jen data based upon n =100.</span>
<span class='fu'>print</span>(<span class='no'>cp</span>,<span class='kw'>short</span><span class='kw'>=</span><span class='fl'>FALSE</span>)  <span class='co'>#show the confidence intervals as well</span></div><div class='output co'>#&gt; Call:corr.p(r = par.r, n = 98)
#&gt; Correlation matrix 
#&gt; partial correlations 
#&gt;      V1   V3   V5
#&gt; V1 1.00 0.29 0.14
#&gt; V3 0.29 1.00 0.10
#&gt; V5 0.14 0.10 1.00
#&gt; Sample Size 
#&gt; [1] 98
#&gt; Probability values (Entries above the diagonal are adjusted for multiple tests.) 
#&gt; partial correlations 
#&gt;      V1   V3   V5
#&gt; V1 0.00 0.01 0.31
#&gt; V3 0.00 0.00 0.34
#&gt; V5 0.16 0.34 0.00
#&gt; 
#&gt;  To see confidence intervals of the correlations, print with the short=FALSE option
#&gt; 
#&gt;  Confidence intervals based upon normal theory.  To get bootstrapped values, try cor.ci
#&gt;       lower    r upper    p
#&gt; V1-V3  0.10 0.29  0.46 0.00
#&gt; V1-V5 -0.06 0.14  0.33 0.16
#&gt; V3-V5 -0.10 0.10  0.29 0.34</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
     William Revelle 
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
