<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SPLOM, histograms and correlations for a data matrix — pairs.panels • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SPLOM, histograms and correlations for a data matrix</h1>
    </div>

    
    <p>Adapted from the  help page for pairs, pairs.panels shows a scatter plot of matrices (SPLOM), with bivariate scatter plots below the diagonal, histograms on the diagonal, and the Pearson correlation above the diagonal. Useful for descriptive statistics of small data sets.  If lm=TRUE, linear regression fits are shown for both y by x and x by y.  Correlation ellipses are also shown. Points may be given different colors depending upon some grouping variable.</p>
    

    <pre class="usage"># S3 method for panels
pairs(x, smooth = TRUE, scale = FALSE, density=TRUE,ellipses=TRUE,
     digits = 2,method="pearson", pch = 20, lm=FALSE,cor=TRUE,jiggle=FALSE,factor=2, 
     hist.col="cyan",show.points=TRUE,rug=TRUE, breaks = "Sturges",cex.cor=1,wt=NULL,
     smoother=FALSE,stars=FALSE, ...)
<!-- %- maybe also 'usage' for other objects documented here. --></pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data.frame or matrix</p></td>
    </tr>
    <tr>
      <th>smooth</th>
      <td><p>TRUE draws loess smooths</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>TRUE scales the correlation font by the size of the absolute correlation.</p></td>
    </tr>
    <tr>
      <th>density</th>
      <td><p>TRUE shows the density plots as well as histograms</p></td>
    </tr>
    <tr>
      <th>ellipses</th>
      <td><p>TRUE draws correlation ellipses</p></td>
    </tr>
    <tr>
      <th>lm</th>
      <td><p>Plot the linear fit rather than the LOESS smoothed fits.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>the number of digits to show</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>method parameter for the correlation ("pearson","spearman","kendall")</p></td>
    </tr>
    <tr>
      <th>pch</th>
      <td><p>The plot character (defaults to 20 which is a '.').</p></td>
    </tr>
    <tr>
      <th>cor</th>
      <td><p>If plotting regressions, should correlations be reported?</p></td>
    </tr>
    <tr>
      <th>jiggle</th>
      <td><p>Should the points be jittered before plotting?</p></td>
    </tr>
    <tr>
      <th>factor</th>
      <td><p>factor for jittering (1-5)</p></td>
    </tr>
    <tr>
      <th>hist.col</th>
      <td><p>What color should the histogram on the diagonal be?</p></td>
    </tr>
    <tr>
      <th>show.points</th>
      <td><p>If FALSE, do not show the data points, just the data ellipses and smoothed functions</p></td>
    </tr>
    <tr>
      <th>rug</th>
      <td><p>if TRUE (default) draw a rug under the histogram, if FALSE, don't draw the rug</p></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>If specified, allows control for the number of breaks in the histogram (see the hist function)</p></td>
    </tr>
    <tr>
      <th>cex.cor</th>
      <td><p>If this is specified, this will change the size of the text in the correlations. this allows one to also change the size of the points in the plot by specifying the normal cex values. If just specifying cex, it will change the character size, if cex.cor is specified, then cex will function to change the point size.</p></td>
    </tr>
    <tr>
      <th>wt</th>
      <td><p>If specified, then weight the correlations by a weights matrix (see note for some comments)</p></td>
    </tr>
    <tr>
      <th>smoother</th>
      <td><p>If TRUE, then smooth.scatter the data points  -- slow but pretty with lots of subjects</p></td>
    </tr>
    <tr>
      <th>stars</th>
      <td><p>For those people who like to show the significance of correlations by using magic astricks, set stars=TRUE</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>other options for pairs</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Shamelessly adapted from the pairs help page.  Uses panel.cor, panel.cor.scale, and panel.hist, all taken from the help pages for pairs. Also adapts the ellipse function from John Fox's car package.
    <code>pairs.panels</code> is most useful when the number of variables to plot is less than about 6-10. It is particularly useful for an initial overview of the data.</p>
<p>To show different groups with different colors, use a plot character (pch) between 21 and 25 and then set the background color to vary by group. (See the second example).</p>
<p>When plotting more than about 10 variables, it is useful to set the gap parameter to something less than 1 (e.g., 0).  Alternatively, consider using <code><a href='cor.plot.html'>cor.plot</a></code></p>
<p>In addition, when plotting more than about 100-200 cases, it is useful to set the plotting character to be a point. (pch=".")</p>
<p>Sometimes it useful to draw the correlation ellipses and best fitting lowess without the points. (points.false=TRUE).</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A scatter plot matrix (SPLOM) is drawn in the graphic window. The lower off diagonal draws scatter plots, the diagonal histograms, the upper off diagonal reports the Pearson correlation (with pairwise deletion).</p>
<p>If lm=TRUE, then the scatter plots are drawn above and below the diagonal, each with a linear regression fit.  Useful to show the difference between regression lines.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code>pairs</code> which is the base from which pairs.panels is derived, <code><a href='cor.plot.html'>cor.plot</a></code> to do a heat map of correlations, and <code><a href='scatter.hist.html'>scatter.hist</a></code> to draw a single correlation plot with histograms and best fitted lines.</p>
<p>To find the probability "significance" of the correlations using normal theory, use <code><a href='corr.test.html'>corr.test</a></code>.  To find confidence intervals using boot strapping procedures, use <code><a href='cor.ci.html'>cor.ci</a></code>.  To graphically show confidence intervals, see <code><a href='cor.plot.html'>cor.plot.upperLowerCi</a></code>.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If the data are either categorical or character, this is flagged with an astrix for the variable name.  If character, they are changed to factors before plotting.
    The wt parameter allows for scatter plots of the raw data while showing the weighted correlation matrix (found by using <code><a href='cor.wt.html'>cor.wt</a></code>). The current implementation uses the first two columns of the weights matrix for all analyses.  This is useful, but not perfect.  The use of this option would be to plot the means from a <code><a href='statsBy.html'>statsBy</a></code> analysis and then display the weighted correlations by specifying the means and ns from the statsBy run.  See the final (not run) example.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>pairs.panels</span>(<span class='no'>attitude</span>)   <span class='co'>#see the graphics window</span></div><img src='pairs.panels-2.png' alt='' width='540' height='400' /><div class='input'><span class='fu'>data</span>(<span class='no'>iris</span>)
<span class='fu'>pairs.panels</span>(<span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>4</span>],<span class='kw'>bg</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"red"</span>,<span class='st'>"yellow"</span>,<span class='st'>"blue"</span>)[<span class='no'>iris</span>$<span class='no'>Species</span>],
        <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>21</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Fisher Iris data by Species"</span>) <span class='co'>#to show color grouping</span></div><img src='pairs.panels-4.png' alt='' width='540' height='400' /><div class='input'>
<span class='fu'>pairs.panels</span>(<span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>4</span>],<span class='kw'>bg</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"red"</span>,<span class='st'>"yellow"</span>,<span class='st'>"blue"</span>)[<span class='no'>iris</span>$<span class='no'>Species</span>],
  <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>21</span>+<span class='fu'>as.numeric</span>(<span class='no'>iris</span>$<span class='no'>Species</span>),<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Fisher Iris data by Species"</span>,<span class='kw'>hist.col</span><span class='kw'>=</span><span class='st'>"red"</span>)</div><img src='pairs.panels-6.png' alt='' width='540' height='400' /><div class='input'>   <span class='co'>#to show changing the diagonal</span>

<span class='co'>#to show 'significance'</span>
   <span class='fu'>pairs.panels</span>(<span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>4</span>],<span class='kw'>bg</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"red"</span>,<span class='st'>"yellow"</span>,<span class='st'>"blue"</span>)[<span class='no'>iris</span>$<span class='no'>Species</span>],
  <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>21</span>+<span class='fu'>as.numeric</span>(<span class='no'>iris</span>$<span class='no'>Species</span>),<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Fisher Iris data by Species"</span>,<span class='kw'>hist.col</span><span class='kw'>=</span><span class='st'>"red"</span>,<span class='kw'>stars</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><img src='pairs.panels-8.png' alt='' width='540' height='400' /><div class='input'>


<span class='co'>#demonstrate not showing the data points</span>
<span class='fu'>data</span>(<span class='no'>sat.act</span>)
<span class='fu'>pairs.panels</span>(<span class='no'>sat.act</span>,<span class='kw'>show.points</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</div><img src='pairs.panels-10.png' alt='' width='540' height='400' /><div class='input'><span class='co'>#better yet is to show the points as a period</span>
<span class='fu'>pairs.panels</span>(<span class='no'>sat.act</span>,<span class='kw'>pch</span><span class='kw'>=</span><span class='st'>"."</span>)</div><img src='pairs.panels-12.png' alt='' width='540' height='400' /><div class='input'><span class='co'>#show many variables with 0 gap between scatterplots</span>
<span class='co'># data(bfi)</span>
<span class='co'># pairs.panels(bfi,show.points=FALSE,gap=0)</span>

<span class='co'>#plot raw data points and then the weighted correlations.</span>
<span class='co'>#output from statsBy</span>
<span class='no'>sb</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='statsBy.html'>statsBy</a></span>(<span class='no'>sat.act</span>,<span class='st'>"education"</span>)
<span class='fu'>pairs.panels</span>(<span class='no'>sb</span>$<span class='no'>mean</span>,<span class='kw'>wt</span><span class='kw'>=</span><span class='no'>sb</span>$<span class='no'>n</span>)  <span class='co'>#report the weighted correlations</span></div><img src='pairs.panels-14.png' alt='' width='540' height='400' /><div class='input'><span class='co'>#compare with </span>
<span class='fu'>pairs.panels</span>(<span class='no'>sb</span>$<span class='no'>mean</span>) <span class='co'>#unweighed correlations</span></div><img src='pairs.panels-16.png' alt='' width='540' height='400' /><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>

      <li><a href="#note">Note</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
