<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Set Correlation and Multiple Regression from matrix or raw input — setCor • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set Correlation and Multiple Regression from matrix or raw input</h1>
    </div>

    
    <p>Finds Cohen's Set Correlation between a predictor set of variables (x) and a criterion set (y).  Also finds multiple correlations between x variables and each of the y variables. Will work with either raw data or a correlation matrix.  A set of covariates (z) can be partialled from the x and y sets. Regression diagrams are automatically included.</p>
    

    <pre class="usage"><span class='fu'>setCor</span>(<span class='no'>y</span>,<span class='no'>x</span>,<span class='no'>data</span>,<span class='kw'>z</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>n.obs</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>use</span><span class='kw'>=</span><span class='st'>"pairwise"</span>,<span class='kw'>std</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>square</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
       <span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Regression Models"</span>,<span class='kw'>plot</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>show</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='fu'>setCor.diagram</span>(<span class='no'>sc</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Regression model"</span>,<span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>2</span>,<span class='kw'>show</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='no'>...</span>)
<span class='fu'>set.cor</span>(<span class='no'>y</span>,<span class='no'>x</span>,<span class='no'>data</span>,<span class='kw'>z</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>n.obs</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>use</span><span class='kw'>=</span><span class='st'>"pairwise"</span>,<span class='kw'>std</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>square</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
       <span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Regression Models"</span>,<span class='kw'>plot</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>show</span><span class='kw'>=</span><span class='fl'>FALSE</span>)    <span class='co'>#an alias to setCor</span>
<span class='fu'>mat.regress</span>(<span class='no'>y</span>, <span class='no'>x</span>,<span class='no'>data</span>, <span class='kw'>z</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>n.obs</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>use</span><span class='kw'>=</span><span class='st'>"pairwise"</span>,<span class='kw'>square</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='fu'>matReg</span>(<span class='no'>x</span>,<span class='no'>y</span>,<span class='no'>C</span>,<span class='kw'>n.obs</span><span class='kw'>=</span><span class='fl'>0</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>y</th>
      <td><p>either  the column numbers of the y set  (e.g., c(2,4,6) or the column names of the y set (e.g., c("Flags","Addition")</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>either the column numbers of the x set (e.g., c(1,3,5) or the column names of the x set (e.g. c("Cubes","PaperFormBoard")</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>a matrix or data.frame of correlations or, if not square, of raw data</p></td>
    </tr>
    <tr>
      <th>C</th>
      <td><p>A variance/covariance matrix, or a correlation matrix</p></td>
    </tr>
    <tr>
      <th>z</th>
      <td><p>the column names or numbers of the set of covariates</p></td>
    </tr>
    <tr>
      <th>n.obs</th>
      <td><p>If specified, then confidence intervals, etc. are calculated, not needed if raw data are given</p></td>
    </tr>
    <tr>
      <th>use</th>
      <td><p>find the correlations "pairwise" (default) or just use "complete" cases (to match the lm function)</p></td>
    </tr>
    <tr>
      <th>std</th>
      <td><p>Report standardized betas (based upon the correlations) or raw (based upon covariances)</p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>The title for setCor.diagram</p></td>
    </tr>
    <tr>
      <th>square</th>
      <td><p>if FALSE, then square matrices are treated as correlation matrices not as data matrices. In the rare case that one has as many cases as variables, then set square=TRUE.</p></td>
    </tr>
    <tr>
      <th>sc</th>
      <td><p>The output of setCor may be used for drawing diagrams</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>How many digits should be displayed in the setCor.diagram?</p></td>
    </tr>
    <tr>
      <th>show</th>
      <td><p>Show the unweighted matrix correlation between the x and y sets?</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>By default, setCor makes a plot of the results, set to FALSE to suppress the plot</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional graphical parameters for setCor.diagram</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Although it is more common to calculate multiple regression and canonical correlations from the raw data, it is,  of course, possible to do so from a matrix of correlations or covariances.  In this case, the input to the function is a square covariance or correlation matrix, as well as the column numbers (or names) of the x (predictor),  y (criterion) variables, and if desired z (covariates). The function will find the correlations if given raw data.
    The output is a set of multiple correlations, one for each dependent variable in the y set, as well as the set of canonical correlations.
    An additional output is the R2 found using Cohen's set correlation (Cohen, 1982).  This is a measure of how much variance and the x and y set share.
    Cohen (1982) introduced the set correlation, a multivariate generalization of the multiple correlation to measure the overall relationship between two sets of variables. It is an application of canoncial correlation (Hotelling, 1936) and \(1 - \prod(1-\rho_i^2)\) where \(\rho_i^2\) is the squared canonical correlation.  Set correlation is the amount of shared variance (R2) between two sets of variables.  With the addition of a third, covariate set, set correlation will find multivariate R2, as well as partial and semi partial R2.  (The semi and bipartial options are not yet implemented.) Details on set correlation may be found in Cohen (1982), Cohen (1988) and  Cohen, Cohen, Aiken and West (2003).
    R2 between two sets is just $$R^2 = 1- \frac{\left | R_{yx} \right |}{\left | R_y \right | \left |R_x\right |}  =  1 - \prod(1-\rho_i^2)   $$ where R is the  complete correlation matrix of the x and y variables and Rx and Ry are the two sets involved.</p>
<p>Unfortunately, the R2 is sensitive to one of the canonical correlations being very high.  An alternative, T2, is the proportion of additive variance and is the average of the squared canonicals.  (Cohen et al., 2003), see also Cramer and Nicewander (1979).  This  average, because it includes some very small canonical correlations, will tend to be too small.  Cohen et al. admonition is appropriate: "In the final analysis, however, analysts must be guided by their substantive and methodological conceptions of the problem at hand in their choice of a measure of association." ( p613).
    Yet another measure of the association between two sets is just the simple, unweighted correlation between the two sets. That is, 
 $$R_{uw}  =\frac{ 1 R_{xy} 1' }{(1R_{yy}1')^{.5} (1R_{xx}1')^{.5}}    $$ where Rxy is the matrix of correlations between the two sets.  This is just  the simple (unweighted) sums of the correlations in each matrix. This technique exemplifies the robust beauty of linear models and  is particularly appropriate in the case of one dimension in both x and y, and will be a drastic underestimate in the case of items where the betas differ in sign.
    When finding the unweighted correlations, as is done in <code><a href='alpha.html'>alpha</a></code>, items are flipped so that they all are positively signed.
    A typical use in the SAPA project is to form item composites by clustering or factoring (see  <code><a href='fa.html'>fa</a></code>,<code><a href='ICLUST.html'>ICLUST</a></code>, <code><a href='principal.html'>principal</a></code>), extract the clusters from these results (<code><a href='factor2cluster.html'>factor2cluster</a></code>), and then form the composite correlation matrix using <code><a href='cluster.cor.html'>cluster.cor</a></code>.  The variables in this reduced matrix may then be used in multiple R procedures using <code>set.cor</code>.</p>
<p>Although the overall matrix can have missing correlations, the correlations in the subset of the matrix used for prediction must exist.
    If the number of observations is entered, then the conventional confidence intervals, statistical significance, and shrinkage estimates are  reported.
    If the input is rectangular (not square), correlations or covariances are found from the data.
    The print function reports t and p values for the beta weights, the summary function just reports the beta weights.
    The Variance Inflation Factor is reported but should be taken with the normal cautions of interpretation discussed by Guide and Ketokivm.  That is to say, VIF &gt; 10 is not a magic cuttoff to define colinearity.  It is merely 1/(1-smc(R(x)).
    <code>matReg</code> is primarily a helper function for <code><a href='mediate.html'>mediate</a></code> but is a general multiple regression function given a covariance matrix and the specified x, and y variables. Its output includes betas, se, t, p and R2.
 It does not work on data matrices, nor does it take formula input.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p></p>
<dt>beta </dt><dd><p>the beta weights for each variable in X for each variable in Y</p></dd>
  <dt>R</dt><dd><p>The multiple R for each equation (the amount of change a unit in the predictor set leads to in the criterion set).</p></dd>
  <dt>R2 </dt><dd><p>The multiple R2 (% variance acounted for) for each equation</p></dd>
  <dt>VIF</dt><dd><p>The Variance Inflation Factor which is just 1/(1-smc(x))</p></dd>
  <dt>se</dt><dd><p>Standard errors of beta weights (if n.obs is specified)</p></dd>
  <dt>t</dt><dd><p>t value of beta weights (if n.obs is specified)</p></dd>
  <dt>Probability</dt><dd><p>Probability of beta = 0 (if n.obs is specified)</p></dd>
  <dt>shrunkenR2</dt><dd><p>Estimated shrunken R2 (if n.obs is specified)</p></dd>
  <dt>setR2</dt><dd><p>The multiple R2 of the set correlation between the x and y sets</p></dd>
  itemresidualThe residual correlation matrix of Y with x and z removed
  <dt>ruw</dt><dd><p>The unit weighted multiple correlation</p></dd>
  <dt>Ruw</dt><dd><p>The unit weighted set correlation</p></dd> 


    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>J. Cohen (1982)  Set correlation as a general multivariate data-analytic method. Multivariate Behavioral Research, 17(3):301-341.</p>
    <p>J. Cohen, P. Cohen, S.G. West, and L.S. Aiken. (2003) Applied multiple regression/correlation analysis for the behavioral sciences. L. Erlbaum Associates, Mahwah, N.J., 3rd ed edition.</p>
<p>H. Hotelling. (1936) Relations between two sets of variates. Biometrika 28(3/4):321-377.</p>
    <p>E.Cramer and W. A. Nicewander (1979) Some symmetric, invariant measures of multivariate association. Psychometrika, 44:43-54.</p>
<p>V. D. R. Guide Jr. and M. Ketokivim (2015) Notes from the Editors: Redefining some methodological criteria for the journal.  Journal of Operations Management. 37. v-viii.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>As of April 30, 2011, the order of x and y was swapped in the call to be consistent with the general y ~ x  syntax of the lm and aov functions. In addition, the primary name of the function was switched to setCor from mat.regress to reflect the estimation of the set correlation.</p>
<p>The denominator degrees of freedom for the set correlation does not match that reported by Cohen et al., 2003 in the example on page 621 but does match the formula on page 615, except for the typo in the estimation of F (see Cohen 1982).   The difference seems to be that they are adding in a correction factor of df 2 = df2 + df1.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='cluster.cor.html'>cluster.cor</a></code>, <code><a href='factor2cluster.html'>factor2cluster</a></code>,<code><a href='principal.html'>principal</a></code>,<code><a href='ICLUST.html'>ICLUST</a></code>, <code>link{cancor}</code> and cca in the yacca package.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#the Kelly data from Hoteling</span>
<span class='no'>kelly</span> <span class='kw'>&lt;-</span> <span class='fu'>structure</span>(<span class='fu'>list</span>(<span class='kw'>speed</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>0.4248</span>, <span class='fl'>0.042</span>, <span class='fl'>0.0215</span>, <span class='fl'>0.0573</span>), <span class='kw'>power</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0.4248</span>,
<span class='fl'>1</span>, <span class='fl'>0.1487</span>, <span class='fl'>0.2489</span>, <span class='fl'>0.2843</span>), <span class='kw'>words</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0.042</span>, <span class='fl'>0.1487</span>, <span class='fl'>1</span>, <span class='fl'>0.6693</span>,
<span class='fl'>0.4662</span>), <span class='kw'>symbols</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0.0215</span>, <span class='fl'>0.2489</span>, <span class='fl'>0.6693</span>, <span class='fl'>1</span>, <span class='fl'>0.6915</span>), <span class='kw'>meaningless</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0.0573</span>,
<span class='fl'>0.2843</span>, <span class='fl'>0.4662</span>, <span class='fl'>0.6915</span>, <span class='fl'>1</span>)), <span class='kw'>.Names</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"speed"</span>, <span class='st'>"power"</span>, <span class='st'>"words"</span>,
<span class='st'>"symbols"</span>, <span class='st'>"meaningless"</span>), <span class='kw'>class</span> <span class='kw'>=</span> <span class='st'>"data.frame"</span>, <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"speed"</span>,
<span class='st'>"power"</span>, <span class='st'>"words"</span>, <span class='st'>"symbols"</span>, <span class='st'>"meaningless"</span>))


<span class='no'>kelly</span></div><div class='output co'>#&gt;              speed  power  words symbols meaningless
#&gt; speed       1.0000 0.4248 0.0420  0.0215      0.0573
#&gt; power       0.4248 1.0000 0.1487  0.2489      0.2843
#&gt; words       0.0420 0.1487 1.0000  0.6693      0.4662
#&gt; symbols     0.0215 0.2489 0.6693  1.0000      0.6915
#&gt; meaningless 0.0573 0.2843 0.4662  0.6915      1.0000</div><div class='input'>
<span class='fu'>setCor</span>(<span class='fl'>1</span>:<span class='fl'>2</span>,<span class='fl'>3</span>:<span class='fl'>5</span>,<span class='no'>kelly</span>)</div><img src='set.cor-4.png' alt='' width='540' height='400' /><div class='output co'>#&gt; Call: setCor(y = 1:2, x = 3:5, data = kelly)
#&gt; 
#&gt; Multiple Regression from matrix input 
#&gt; 
#&gt; Beta weights 
#&gt;             speed power
#&gt; words        0.05 -0.03
#&gt; symbols     -0.07  0.12
#&gt; meaningless  0.08  0.22
#&gt; 
#&gt; Multiple R 
#&gt; speed power 
#&gt;  0.07  0.29 
#&gt; multiple R2 
#&gt;  speed  power 
#&gt; 0.0053 0.0867 
#&gt; 
#&gt; Multiple Inflation Factor (VIF) = 1/(1-SMC) = 
#&gt;       words     symbols meaningless 
#&gt;        1.81        2.72        1.92 
#&gt; 
#&gt;  Unweighted multiple R 
#&gt; speed power 
#&gt;  0.05  0.26 
#&gt;  Unweighted multiple R2 
#&gt; speed power 
#&gt;  0.00  0.07 
#&gt; 
#&gt; Various estimates of between set correlations
#&gt; Squared Canonical Correlations 
#&gt; [1] 0.0946 0.0035
#&gt; 
#&gt;  Average squared canonical correlation =  0.05
#&gt;  Cohen's Set Correlation R2 =  0.1
#&gt; Unweighted correlation between the two sets =  0.18</div><div class='input'><span class='co'>#Hotelling reports canonical correlations of .3073 and .0583  or squared correlations of</span>
<span class='co'># 0.09443329 and 0.00339889 vs. our values of  0.0946 0.0035,</span>


<span class='fu'>setCor</span>(<span class='kw'>y</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>7</span>:<span class='fl'>9</span>),<span class='kw'>x</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>6</span>),<span class='kw'>data</span><span class='kw'>=</span><span class='no'>Thurstone</span>,<span class='kw'>n.obs</span><span class='kw'>=</span><span class='fl'>213</span>)</div><img src='set.cor-7.png' alt='' width='540' height='400' /><div class='output co'>#&gt; Call: setCor(y = c(7:9), x = c(1:6), data = Thurstone, n.obs = 213)
#&gt; 
#&gt; Multiple Regression from matrix input 
#&gt; 
#&gt; Beta weights 
#&gt;                   Letter.Series Pedigrees Letter.Group
#&gt; Sentences                  0.23      0.20         0.18
#&gt; Vocabulary                 0.08      0.15        -0.05
#&gt; Sent.Completion            0.04      0.21         0.07
#&gt; First.Letters              0.12      0.02         0.17
#&gt; Four.Letter.Words          0.19      0.11         0.24
#&gt; Suffixes                  -0.05     -0.01         0.00
#&gt; 
#&gt; Multiple R 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.51          0.59          0.51 
#&gt; multiple R2 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.26          0.35          0.26 
#&gt; 
#&gt; Multiple Inflation Factor (VIF) = 1/(1-SMC) = 
#&gt;         Sentences        Vocabulary   Sent.Completion     First.Letters 
#&gt;              3.71              3.94              3.00              2.20 
#&gt; Four.Letter.Words          Suffixes 
#&gt;              2.00              1.74 
#&gt; 
#&gt;  Unweighted multiple R 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.49          0.56          0.48 
#&gt;  Unweighted multiple R2 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.25          0.31          0.23 
#&gt; 
#&gt;  SE of Beta weights 
#&gt;                   Letter.Series Pedigrees Letter.Group
#&gt; Sentences                  0.12      0.11         0.12
#&gt; Vocabulary                 0.12      0.11         0.12
#&gt; Sent.Completion            0.10      0.10         0.10
#&gt; First.Letters              0.09      0.08         0.09
#&gt; Four.Letter.Words          0.08      0.08         0.08
#&gt; Suffixes                   0.08      0.07         0.08
#&gt; 
#&gt;  t of Beta Weights 
#&gt;                   Letter.Series Pedigrees Letter.Group
#&gt; Sentences                  2.02      1.87         1.58
#&gt; Vocabulary                 0.71      1.34        -0.38
#&gt; Sent.Completion            0.39      2.11         0.68
#&gt; First.Letters              1.33      0.26         1.89
#&gt; Four.Letter.Words          2.27      1.41         2.87
#&gt; Suffixes                  -0.62     -0.12         0.05
#&gt; 
#&gt; Probability of t &lt; 
#&gt;                   Letter.Series Pedigrees Letter.Group
#&gt; Sentences                 0.044     0.063       0.1200
#&gt; Vocabulary                0.480     0.180       0.7000
#&gt; Sent.Completion           0.700     0.036       0.5000
#&gt; First.Letters             0.180     0.790       0.0610
#&gt; Four.Letter.Words         0.024     0.160       0.0045
#&gt; Suffixes                  0.540     0.900       0.9600
#&gt; 
#&gt;  Shrunken R2 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.24          0.33          0.24 
#&gt; 
#&gt; Standard Error of R2  
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;         0.050         0.051         0.050 
#&gt; 
#&gt; F 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;         12.37         18.19         12.01 
#&gt; 
#&gt; Probability of F &lt; 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;      7.01e-12      0.00e+00      1.47e-11 
#&gt; 
#&gt;  degrees of freedom of regression 
#&gt; [1]   6 206
#&gt; 
#&gt; Various estimates of between set correlations
#&gt; Squared Canonical Correlations 
#&gt; [1] 0.4115 0.0689 0.0069
#&gt; Chisq of canonical correlations 
#&gt; [1] 109.7  14.8   1.4
#&gt; 
#&gt;  Average squared canonical correlation =  0.16
#&gt;  Cohen's Set Correlation R2 =  0.46
#&gt;  Shrunken Set Correlation R2 =  0.4
#&gt;  F and df of Cohen's Set Correlation  7.47 18 560.51
#&gt; Unweighted correlation between the two sets =  0.62</div><div class='input'><span class='co'>#now try partialling out some variables</span>
<span class='fu'>set.cor</span>(<span class='kw'>y</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>7</span>:<span class='fl'>9</span>),<span class='kw'>x</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>3</span>),<span class='kw'>z</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>4</span>:<span class='fl'>6</span>),<span class='kw'>data</span><span class='kw'>=</span><span class='no'>Thurstone</span>) <span class='co'>#compare with the previous</span></div><img src='set.cor-10.png' alt='' width='540' height='400' /><div class='output co'>#&gt; Call: setCor(y = y, x = x, data = data, z = z, n.obs = n.obs, use = use, 
#&gt;     std = std, square = square, main = main, plot = plot, show = show)
#&gt; 
#&gt; Multiple Regression from matrix input 
#&gt; 
#&gt; Beta weights 
#&gt;                 Letter.Series Pedigrees Letter.Group
#&gt; Sentences                0.23      0.20         0.18
#&gt; Vocabulary               0.08      0.15        -0.05
#&gt; Sent.Completion          0.04      0.21         0.07
#&gt; 
#&gt; Multiple R 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.31          0.47          0.20 
#&gt; multiple R2 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;         0.098         0.218         0.040 
#&gt; 
#&gt; Multiple Inflation Factor (VIF) = 1/(1-SMC) = 
#&gt;       Sentences      Vocabulary Sent.Completion 
#&gt;            2.73            2.69            2.20 
#&gt; 
#&gt;  Unweighted multiple R 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.28          0.43          0.16 
#&gt;  Unweighted multiple R2 
#&gt; Letter.Series     Pedigrees  Letter.Group 
#&gt;          0.08          0.18          0.03 
#&gt; 
#&gt; Various estimates of between set correlations
#&gt; Squared Canonical Correlations 
#&gt; [1] 0.2281 0.0065 0.0041
#&gt; 
#&gt;  Average squared canonical correlation =  0.08
#&gt;  Cohen's Set Correlation R2 =  0.24
#&gt; Unweighted correlation between the two sets =  0.41</div><div class='input'><span class='co'>#compare complete print out with summary printing </span>
<span class='no'>sc</span> <span class='kw'>&lt;-</span> <span class='fu'>setCor</span>(<span class='kw'>x</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"gender"</span>,<span class='st'>"education"</span>),<span class='kw'>y</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"SATV"</span>,<span class='st'>"SATQ"</span>),<span class='kw'>data</span><span class='kw'>=</span><span class='no'>sat.act</span>) <span class='co'># regression from raw data</span></div><img src='set.cor-13.png' alt='' width='540' height='400' /><div class='input'><span class='no'>sc</span></div><div class='output co'>#&gt; Call: setCor(y = c("SATV", "SATQ"), x = c("gender", "education"), data = sat.act)
#&gt; 
#&gt; Multiple Regression from raw data 
#&gt; 
#&gt; Beta weights 
#&gt;            SATV  SATQ
#&gt; gender    -0.02 -0.17
#&gt; education  0.05  0.05
#&gt; 
#&gt; Multiple R 
#&gt; SATV SATQ 
#&gt; 0.05 0.17 
#&gt; multiple R2 
#&gt;   SATV   SATQ 
#&gt; 0.0027 0.0299 
#&gt; 
#&gt; Multiple Inflation Factor (VIF) = 1/(1-SMC) = 
#&gt;    gender education 
#&gt;      1.01      1.01 
#&gt; 
#&gt;  Unweighted multiple R 
#&gt; SATV SATQ 
#&gt; 0.04 0.14 
#&gt;  Unweighted multiple R2 
#&gt; SATV SATQ 
#&gt; 0.00 0.02 
#&gt; 
#&gt;  SE of Beta weights 
#&gt;           SATV SATQ
#&gt; gender    0.04 0.04
#&gt; education 0.04 0.04
#&gt; 
#&gt;  t of Beta Weights 
#&gt;            SATV  SATQ
#&gt; gender    -0.61 -4.54
#&gt; education  1.28  1.32
#&gt; 
#&gt; Probability of t &lt; 
#&gt;           SATV    SATQ
#&gt; gender    0.54 6.6e-06
#&gt; education 0.20 1.9e-01
#&gt; 
#&gt;  Shrunken R2 
#&gt;     SATV     SATQ 
#&gt; -0.00017  0.02710 
#&gt; 
#&gt; Standard Error of R2  
#&gt;   SATV   SATQ 
#&gt; 0.0039 0.0126 
#&gt; 
#&gt; F 
#&gt;  SATV  SATQ 
#&gt;  0.94 10.73 
#&gt; 
#&gt; Probability of F &lt; 
#&gt;     SATV     SATQ 
#&gt; 3.91e-01 2.56e-05 
#&gt; 
#&gt;  degrees of freedom of regression 
#&gt; [1]   2 697
#&gt; 
#&gt; Various estimates of between set correlations
#&gt; Squared Canonical Correlations 
#&gt; [1] 0.0417 0.0021
#&gt; Chisq of canonical correlations 
#&gt; [1] 29.7  1.4
#&gt; 
#&gt;  Average squared canonical correlation =  0.02
#&gt;  Cohen's Set Correlation R2 =  0.04
#&gt;  Shrunken Set Correlation R2 =  0.04
#&gt;  F and df of Cohen's Set Correlation  7.91 4 1388
#&gt; Unweighted correlation between the two sets =  -0.04</div><div class='input'><span class='fu'>summary</span>(<span class='no'>sc</span>)</div><div class='output co'>#&gt; 
#&gt; Multiple Regression from raw data 
#&gt; setCor(y = c("SATV", "SATQ"), x = c("gender", "education"), data = sat.act)
#&gt; 
#&gt; Multiple Regression from matrix input 
#&gt; 
#&gt; Beta weights 
#&gt;             SATV   SATQ
#&gt; gender    -0.023 -0.170
#&gt; education  0.048  0.049
#&gt; 
#&gt; Multiple R 
#&gt;  SATV  SATQ 
#&gt; 0.052 0.173 
#&gt; 
#&gt; Multiple R2 
#&gt;   SATV   SATQ 
#&gt; 0.0027 0.0299 
#&gt; 
#&gt; Cohen's set correlation R2 
#&gt; [1] 0.044
#&gt; 
#&gt; Squared Canonical Correlations
#&gt; [1] 0.0417 0.0021</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    William Revelle 
       
Maintainer: William Revelle &lt;revelle@northwestern.edu&gt; 
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
