<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate simulated data structures for circumplex, spherical, or simple structure — sim.item • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate simulated data structures for circumplex, spherical, or simple structure</h1>
    </div>

    
    <p>Rotations of factor analysis and principal components analysis solutions typically try to represent correlation matrices as simple structured.  An alternative structure, appealing to some, is a circumplex structure where the variables are uniformly spaced on the perimeter of a circle in a two dimensional space.  Generating simple structure and circumplex data is straightforward, and is useful for exploring alternative solutions to affect and personality structure. A generalization to 3 dimensional (spherical) data is straightforward.</p>
    

    <pre class="usage"><span class='fu'>sim.item</span>(<span class='kw'>nvar</span> <span class='kw'>=</span> <span class='fl'>72</span>, <span class='kw'>nsub</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>circum</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>xloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>yloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
 <span class='kw'>gloading</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>xbias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>ybias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>categorical</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>low</span> <span class='kw'>=</span> -<span class='fl'>3</span>, <span class='kw'>high</span> <span class='kw'>=</span> <span class='fl'>3</span>,
 <span class='kw'>truncate</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cutpoint</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='fu'>sim.circ</span>(<span class='kw'>nvar</span> <span class='kw'>=</span> <span class='fl'>72</span>, <span class='kw'>nsub</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>circum</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>xloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>yloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
  <span class='kw'>gloading</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>xbias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>ybias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>categorical</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>low</span> <span class='kw'>=</span> -<span class='fl'>3</span>, <span class='kw'>high</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>truncate</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cutpoint</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='fu'>sim.dichot</span>(<span class='kw'>nvar</span> <span class='kw'>=</span> <span class='fl'>72</span>, <span class='kw'>nsub</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>circum</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>xloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>yloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
    <span class='kw'>gloading</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>xbias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>ybias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>low</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>high</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='fu'>item.dichot</span>(<span class='kw'>nvar</span> <span class='kw'>=</span> <span class='fl'>72</span>, <span class='kw'>nsub</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>circum</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>xloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>yloading</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
  <span class='kw'>gloading</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>xbias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>ybias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>low</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>high</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='fu'>sim.spherical</span>(<span class='kw'>simple</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>nx</span><span class='kw'>=</span><span class='fl'>7</span>,<span class='kw'>ny</span><span class='kw'>=</span><span class='fl'>12</span> ,<span class='kw'>nsub</span> <span class='kw'>=</span> <span class='fl'>500</span>,  <span class='kw'>xloading</span> <span class='kw'>=</span><span class='fl'>.55</span>, <span class='kw'>yloading</span> <span class='kw'>=</span> <span class='fl'>.55</span>,
   <span class='kw'>zloading</span><span class='kw'>=</span><span class='fl'>.55</span>, <span class='kw'>gloading</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>xbias</span><span class='kw'>=</span><span class='fl'>0</span>,  <span class='kw'>ybias</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>zbias</span><span class='kw'>=</span><span class='fl'>0</span>,<span class='kw'>categorical</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
   <span class='kw'>low</span><span class='kw'>=</span>-<span class='fl'>3</span>,<span class='kw'>high</span><span class='kw'>=</span><span class='fl'>3</span>,<span class='kw'>truncate</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>cutpoint</span><span class='kw'>=</span><span class='fl'>0</span>)
<span class='fu'>con2cat</span>(<span class='no'>old</span>,<span class='kw'>cuts</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>),<span class='no'>where</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>nvar</th>
      <td><p>Number of variables to simulate</p></td>
    </tr>
    <tr>
      <th>nsub</th>
      <td><p>Number of subjects to simulate</p></td>
    </tr>
    <tr>
      <th>circum</th>
      <td><p>circum=TRUE is circumplex structure, FALSE is simple structure</p></td>
    </tr>
    <tr>
      <th>simple</th>
      <td><p>simple structure or spherical structure in sim.spherical</p></td>
    </tr>
    <tr>
      <th>xloading</th>
      <td><p>the average loading on the first dimension</p></td>
    </tr>
    <tr>
      <th>yloading</th>
      <td><p>Average loading on the second dimension</p></td>
    </tr>
    <tr>
      <th>zloading</th>
      <td><p>the average loading on the third dimension in sim.spherical</p></td>
    </tr>
    <tr>
      <th>gloading</th>
      <td><p>Average loading on a general factor (default=0)</p></td>
    </tr>
    <tr>
      <th>xbias</th>
      <td><p>To introduce skew, how far off center is the first dimension</p></td>
    </tr>
    <tr>
      <th>ybias</th>
      <td><p>To introduce skew on the second dimension</p></td>
    </tr>
    <tr>
      <th>zbias</th>
      <td><p>To introduce skew on the third dimension -- if using sim.spherical</p></td>
    </tr>
    <tr>
      <th>categorical</th>
      <td><p>continuous or categorical variables.</p></td>
    </tr>
    <tr>
      <th>low</th>
      <td><p>values less than low are forced to low (or 0 in item.dichot)</p></td>
    </tr>
    <tr>
      <th>high</th>
      <td><p>values greater than high are forced to high (or 1 in item.dichot)</p></td>
    </tr>
    <tr>
      <th>truncate</th>
      <td><p>Change all values less than cutpoint to cutpoint.</p></td>
    </tr>
    <tr>
      <th>cutpoint</th>
      <td><p>What is the cutpoint</p></td>
    </tr>
    <tr>
      <th>nx</th>
      <td><p>number of variables for the first factor in sim.spherical</p></td>
    </tr>
    <tr>
      <th>ny</th>
      <td><p>number of variables for the second and third factors in sim.spherical</p></td>
    </tr>
    <tr>
      <th>old</th>
      <td><p>a matrix or data frame</p></td>
    </tr>
    <tr>
      <th>cuts</th>
      <td><p>Values of old to be used as cut points when converting continuous values to categorical values</p></td>
    </tr>
    <tr>
      <th>where</th>
      <td><p>Which columns of old should be converted to categorical variables.  If missing, then all columns are converted.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This simulation was originally developed to compare the effect of skew on the measurement of affect (see Rafaeli and Revelle, 2005).  It has been extended to allow for a general simulation of affect or personality items with either a simple structure or a circumplex structure.  Items can be continuous normally distributed, or broken down into n categories (e.g, -2, -1, 0, 1, 2).  Items can be distorted by limiting them to these ranges, even though the items have a mean of (e.g., 1).</p>
<p>The addition of item.dichot allows for testing structures with dichotomous items of different difficulty (endorsement) levels.  Two factor data with either simple structure or circumplex structure are generated for two sets of items, one giving a score of 1 for all items greater than the low (easy) value, one giving a 1 for all items greater than the high (hard) value. The default values for low and high are 0.  That is, all items are assumed to have a 50 percent endorsement rate.  To examine the effect of item difficulty, low could be   -1, high  1. This will lead to item endorsements of .84 for the easy and .16 for the hard.  Within each set of difficulties, the first 1/4 are assigned to the first factor factor, the second to the second factor, the third to the first factor (but with negative loadings) and the fourth to the second factor (but with negative loadings).</p>
<p>It is useful to compare the results of sim.item with sim.hierarchical.  sim.item will produce a general factor that runs through all the items as well as two orthogonal factors.  This produces a data set that is hard to represent with standard rotation techniques.  Extracting 3 factors without rotation and then rotating the 2nd and 3rd factors reproduces the correct solution.  But simple oblique rotation of 3 factors, or an <code><a href='omega.html'>omega</a></code> analysis do not capture the underlying structure.  See the last example.</p>
<p>Yet another structure that might be appealing is fully complex data in three dimensions.  That is, rather than having items representing the circumference of a circle, items can be structured to represent equally spaced three dimensional points on a sphere. <code>sim.spherical</code> produces such data.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data matrix of (nsub) subjects by (nvar) variables.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Variations of a routine used in Rafaeli and Revelle, 2006;
Rafaeli, E. &amp; Revelle, W. (2006). A premature consensus: Are happiness and sadness truly opposite affects? Motivation and Emotion. <a href = 'http://personality-project.org/revelle/publications/rafaeli.revelle.06.pdf'>http://personality-project.org/revelle/publications/rafaeli.revelle.06.pdf</a></p>
<p>Acton, G. S. and Revelle, W. (2004) Evaluation of Ten Psychometric Criteria for Circumplex Structure. Methods of Psychological Research Online, Vol. 9, No. 1 (formerly (http://www.dgps.de/fachgruppen/methoden/mpr-online/issue22/mpr110_10.pdf)  also at  <a href = 'http://personality-project.org/revelle/publications/acton.revelle.mpr110_10.pdf'>http://personality-project.org/revelle/publications/acton.revelle.mpr110_10.pdf</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>See Also the implementation in this to generate numerous simulations.  <code><a href='simulation.circ.html'>simulation.circ</a></code>,  <code><a href='circ.tests.html'>circ.tests</a></code> as well as other simulations ( <code><a href='sim.structural.html'>sim.structural</a></code>  <code><a href='sim.hierarchical.html'>sim.hierarchical</a></code>)</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>round</span>(<span class='fu'>cor</span>(<span class='fu'>circ.sim</span>(<span class='kw'>nvar</span><span class='kw'>=</span><span class='fl'>8</span>,<span class='kw'>nsub</span><span class='kw'>=</span><span class='fl'>200</span>)),<span class='fl'>2</span>)</div><div class='output co'>#&gt;       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]
#&gt; [1,]  1.00  0.24  0.01 -0.23 -0.30 -0.29  0.03  0.14
#&gt; [2,]  0.24  1.00  0.12 -0.16 -0.04 -0.34 -0.10 -0.02
#&gt; [3,]  0.01  0.12  1.00  0.24 -0.07 -0.21 -0.33 -0.21
#&gt; [4,] -0.23 -0.16  0.24  1.00  0.29  0.03 -0.18 -0.39
#&gt; [5,] -0.30 -0.04 -0.07  0.29  1.00  0.24 -0.02 -0.24
#&gt; [6,] -0.29 -0.34 -0.21  0.03  0.24  1.00  0.25 -0.03
#&gt; [7,]  0.03 -0.10 -0.33 -0.18 -0.02  0.25  1.00  0.19
#&gt; [8,]  0.14 -0.02 -0.21 -0.39 -0.24 -0.03  0.19  1.00</div><div class='input'><span class='fu'>plot</span>(<span class='fu'><a href='fa.html'>fa</a></span>(<span class='fu'>circ.sim</span>(<span class='fl'>16</span>,<span class='fl'>500</span>),<span class='fl'>2</span>)$<span class='no'>loadings</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Circumplex Structure"</span>) <span class='co'>#circumplex structure</span></div><img src='sim.item-4.png' alt='' width='540' height='400' /><div class='input'><span class='co'>#</span>
<span class='co'>#</span>
<span class='fu'>plot</span>(<span class='fu'><a href='fa.html'>fa</a></span>(<span class='fu'>item.sim</span>(<span class='fl'>16</span>,<span class='fl'>500</span>),<span class='fl'>2</span>)$<span class='no'>loadings</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Simple Structure"</span>) <span class='co'>#simple structure</span></div><img src='sim.item-6.png' alt='' width='540' height='400' /><div class='input'><span class='co'>#</span>
<span class='fu'><a href='cluster.plot.html'>cluster.plot</a></span>(<span class='fu'><a href='fa.html'>fa</a></span>(<span class='fu'>item.dichot</span>(<span class='fl'>16</span>,<span class='kw'>low</span><span class='kw'>=</span><span class='fl'>0</span>,<span class='kw'>high</span><span class='kw'>=</span><span class='fl'>1</span>),<span class='fl'>2</span>))</div><img src='sim.item-8.png' alt='' width='540' height='400' /><div class='input'>
 <span class='fu'>set.seed</span>(<span class='fl'>42</span>)

 <span class='no'>data</span> <span class='kw'>&lt;-</span> <span class='kw'>mnormt</span><span class='kw'>::</span><span class='fu'>rmnorm</span>(<span class='fl'>1000</span>, <span class='fu'>c</span>(<span class='fl'>0</span>, <span class='fl'>0</span>), <span class='fu'>matrix</span>(<span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>.5</span>, <span class='fl'>.5</span>, <span class='fl'>1</span>), <span class='fl'>2</span>, <span class='fl'>2</span>)) <span class='co'>#continuous data</span>
 <span class='no'>new</span> <span class='kw'>&lt;-</span> <span class='fu'>con2cat</span>(<span class='no'>data</span>,<span class='fu'>c</span>(-<span class='fl'>1.5</span>,-<span class='fl'>.5</span>,<span class='fl'>.5</span>,<span class='fl'>1.5</span>))  <span class='co'>#discreet data</span>
 <span class='fu'><a href='tetrachor.html'>polychoric</a></span>(<span class='no'>new</span>)</div><div class='output co'>#&gt; <span class='message'>1 cells were adjusted for 0 values using the correction for continuity. Examine your data carefully.</span></div><div class='output co'>#&gt; Call: polychoric(x = new)
#&gt; Polychoric correlations 
#&gt;    C1   C2  
#&gt; R1 1.00     
#&gt; R2 0.48 1.00
#&gt; 
#&gt;  with tau of 
#&gt;         1     2    3   4
#&gt; [1,] -1.5 -0.49 0.54 1.6
#&gt; [2,] -1.5 -0.52 0.52 1.6</div><div class='input'><span class='co'>#not run</span>
<span class='co'>#x12 &lt;- sim.item(12,gloading=.6)</span>
<span class='co'>#f3 &lt;- fa(x12,3,rotate="none")</span>
<span class='co'>#f3  #observe the general factor</span>
<span class='co'>#oblimin(f3$loadings[,2:3])  #show the 2nd and 3 factors.</span>
<span class='co'>#f3 &lt;- fa(x12,3)   #now do it with oblimin rotation</span>
<span class='co'>#f3  # not what one naively expect.</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
     William Revelle 
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
