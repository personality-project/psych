<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Two way plots of means, error bars, and sample sizes — errorCircles • psych</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">psych</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Two way plots of means, error bars, and sample sizes</h1>
    </div>

    
    <p>Given a matrix or data frame, data, find statistics based upon a grouping variable and then plot x and y means with error bars for each value of the grouping variable.  If the data are paired (e.g. by gender), then plot means and error bars for the two groups on all variables.</p>
    

    <pre class="usage"><span class='fu'>errorCircles</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='no'>data</span>, <span class='kw'>ydata</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>group</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>paired</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
<span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,<span class='kw'>add</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>pos</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
 <span class='kw'>offset</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>arrow.len</span> <span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>bars</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>circles</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
 <span class='kw'>colors</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>col.arrows</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>col.text</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='kw'>circle.size</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>The x variable (by name or number) to plot</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>The y variable (name or number) to plot</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>The matrix or data.frame to use for the x data</p></td>
    </tr>
    <tr>
      <th>ydata</th>
      <td><p>If plotting data from two data.frames, then the y variable of the ydata frame will be used.</p></td>
    </tr>
    <tr>
      <th>group</th>
      <td><p>If specified, then <code><a href='statsBy.html'>statsBy</a></code> is called first to find the statistics by group</p></td>
    </tr>
    <tr>
      <th>paired</th>
      <td><p>If TRUE, plot all x and y variables for the two values of the grouping variable.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>Variable names</p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>Main title for plot</p></td>
    </tr>
    <tr>
      <th>xlim</th>
      <td><p>xlim values if desired-- defaults to min and max mean(x) +/- 2 se</p></td>
    </tr>
    <tr>
      <th>ylim</th>
      <td><p>ylim values if desired  -- defaults to min and max mean(y) +/- 2 se</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>label for x axis -- grouping variable 1</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>label for y axis -- grouping variable 2</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>If TRUE, add to the prior plot</p></td>
    </tr>
    <tr>
      <th>pos</th>
      <td><p>Labels are located where with respect to the mean?</p></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p>Labels are then offset from this location</p></td>
    </tr>
    <tr>
      <th>arrow.len</th>
      <td><p>Arrow length</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>alpha level of error bars</p></td>
    </tr>
    <tr>
      <th>sd</th>
      <td><p>if sd is TRUE, then draw means +/- 1 sd)</p></td>
    </tr>
    <tr>
      <th>bars</th>
      <td><p>Should error.bars be drawn for both x and y</p></td>
    </tr>
    <tr>
      <th>circles</th>
      <td><p>Should circles representing the relative sample sizes be drawn?</p></td>
    </tr>
    <tr>
      <th>colors</th>
      <td><p>Plot the points using colors -- default is black</p></td>
    </tr>
    <tr>
      <th>col.text</th>
      <td><p>What color for the text labels (defaults to colors)</p></td>
    </tr>
    <tr>
      <th>col.arrows</th>
      <td><p>What color should the arrows and circles be?  Defaults to colors</p></td>
    </tr>
    <tr>
      <th>circle.size</th>
      <td><p>A scaling parameter for the error.circles.  Defaults to 1, but can be adjusted downwards to make them less instrusive.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Other parameters for plot</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When visualizing the effect of an experimental manipulation or the relationship of multiple groups, it is convenient to plot their means as well as their confidence regions in a two dimensional space.</p>
<p>The diameter of the enclosing circle (ellipse) scales as 1/sqrt(N) * the maximum standard error of all variables.  That is to say, the area of the ellipse reflects sample size.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If the group variable is specified, then the statistics from <code><a href='statsBy.html'>statsBy</a></code> are (invisibly) returned.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Basically this is a combination (and improvement) of <code><a href='statsBy.html'>statsBy</a></code> with <code><a href='error.crosses.html'>error.crosses</a></code>.  Can also serve some of the functionality of <code><a href='error.bars.by.html'>error.bars.by</a></code> (see the last example).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='statsBy.html'>statsBy</a></code>, <code><a href='describe.by.html'>describeBy</a></code>, <code><a href='error.crosses.html'>error.crosses</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#BFI scores for males and females</span>
<span class='fu'>errorCircles</span>(<span class='fl'>1</span>:<span class='fl'>25</span>,<span class='fl'>1</span>:<span class='fl'>25</span>,<span class='kw'>data</span><span class='kw'>=</span><span class='no'>bfi</span>,<span class='kw'>group</span><span class='kw'>=</span><span class='st'>"gender"</span>,<span class='kw'>paired</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"female scores"</span>,
      <span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"male scores"</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"BFI scores by gender"</span>)</div><div class='input'> <span class='fu'>abline</span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fl'>0</span>,<span class='kw'>b</span><span class='kw'>=</span><span class='fl'>1</span>)</div><img src='error.circles-3.png' alt='' width='540' height='400' /><div class='input'><span class='co'>#drop the circles since all samples are the same sizes</span>
<span class='fu'>errorCircles</span>(<span class='fl'>1</span>:<span class='fl'>25</span>,<span class='fl'>1</span>:<span class='fl'>25</span>,<span class='kw'>data</span><span class='kw'>=</span><span class='no'>bfi</span>,<span class='kw'>group</span><span class='kw'>=</span><span class='st'>"gender"</span>,<span class='kw'>paired</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>circles</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
     <span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"female scores"</span>,<span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"male scores"</span>,<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"BFI scores by gender"</span>)</div><div class='input'> <span class='fu'>abline</span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fl'>0</span>,<span class='kw'>b</span><span class='kw'>=</span><span class='fl'>1</span>)</div><img src='error.circles-6.png' alt='' width='540' height='400' /><div class='input'>
 <span class='fu'>data</span>(<span class='no'>affect</span>)
<span class='no'>colors</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"black"</span>,<span class='st'>"red"</span>,<span class='st'>"white"</span>,<span class='st'>"blue"</span>)
<span class='no'>films</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"Sad"</span>,<span class='st'>"Horror"</span>,<span class='st'>"Neutral"</span>,<span class='st'>"Happy"</span>)
<span class='no'>affect.stats</span> <span class='kw'>&lt;-</span> <span class='fu'>errorCircles</span>(<span class='st'>"EA2"</span>,<span class='st'>"TA2"</span>,<span class='kw'>data</span><span class='kw'>=</span><span class='no'>affect</span>[-<span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>20</span>)],<span class='kw'>group</span><span class='kw'>=</span><span class='st'>"Film"</span>,<span class='kw'>labels</span><span class='kw'>=</span><span class='no'>films</span>,
      <span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"Energetic Arousal"</span>,<span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"Tense Arousal"</span>,<span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>10</span>,<span class='fl'>22</span>),<span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>8</span>,<span class='fl'>20</span>),
      <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>16</span>,<span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>2</span>,<span class='kw'>colors</span><span class='kw'>=</span><span class='no'>colors</span>, <span class='kw'>main</span> <span class='kw'>=</span><span class='st'>"EA and TA pre and post affective movies"</span>)</div><div class='input'><span class='co'>#now, use the stats from the prior run </span>
<span class='fu'>errorCircles</span>(<span class='st'>"EA1"</span>,<span class='st'>"TA1"</span>,<span class='kw'>data</span><span class='kw'>=</span><span class='no'>affect.stats</span>,<span class='kw'>labels</span><span class='kw'>=</span><span class='no'>films</span>,<span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>16</span>,<span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>2</span>,<span class='kw'>colors</span><span class='kw'>=</span><span class='no'>colors</span>,<span class='kw'>add</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><img src='error.circles-9.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'>#show sample size with the size of the circles</span>
<span class='fu'>errorCircles</span>(<span class='st'>"SATV"</span>,<span class='st'>"SATQ"</span>,<span class='no'>sat.act</span>,<span class='kw'>group</span><span class='kw'>=</span><span class='st'>"education"</span>)</div><img src='error.circles-11.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'>#Can also provide error.bars.by functionality</span>
 <span class='fu'>errorCircles</span>(<span class='fl'>2</span>,<span class='fl'>5</span>,<span class='kw'>group</span><span class='kw'>=</span><span class='fl'>2</span>,<span class='kw'>data</span><span class='kw'>=</span><span class='no'>sat.act</span>,<span class='kw'>circles</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>16</span>,<span class='kw'>colors</span><span class='kw'>=</span><span class='st'>"blue"</span>,
      <span class='kw'>ylim</span><span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>200</span>,<span class='fl'>800</span>),<span class='kw'>main</span><span class='kw'>=</span><span class='st'>"SATV by education"</span>,<span class='kw'>labels</span><span class='kw'>=</span><span class='st'>""</span>)</div><img src='error.circles-13.png' alt='' width='540' height='400' /><div class='input'> <span class='co'>#just do the breakdown and then show the points</span>
<span class='co'># errorCircles(3,5,group=3,data=sat.act,circles=FALSE,pch=16,colors="blue",</span>
<span class='co'>#         ylim= c(200,800),main="SATV by age",labels="",bars=FALSE)</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    William Revelle
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by William Revelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
